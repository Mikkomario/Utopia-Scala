# Utopia Vault Coder

## v1.2 - 18.10.2021
This major update adds a number of new important features and bugfix (see details below). The program interface is 
also refactored, somewhat.
### Breaking Changes
- Updated how program arguments are handled and added some interactive elements to the application
- Access points, which targeted individual items based on their id are now written into separate files (DbSingleXAccess)
### New Features
- Added support for combined models (e.g. combining Foo and Bar classes to form FooWithBars)
- Added support for described classes (**Citadel**-specific feature)
- Added support for **Days** and **FiniteDuration** data types (both concrete and optional variants)
- Added custom indexing support (see README for details)
- The app can now write specific classes, packages or enumerations based on filtering applied on program use
- Written many model access points now override the `filter(Condition)` function
- Written Stored models now contain a property `access`, which points to their id-specific access point
### Bugfixes
- Optional references didn't work previously - now fixed
- Fixed a bug where SQL indices where written incorrectly
- Fixed a bug in DbModel / Factory writing where wrong property names were used
- Fixed a bug in some factory implementations where read values were not unwrapped correctly
  - Please note that as a side effect, **ValueUnwraps** are no longer used when parsing instance data from models
### Other Changes
- Instant default value is now `Now` instead of `Instant.now()`

## v1.1 - 3.10.2021
This is a major update to the **Vault Coder** utility application, making it actually usable in production use. 
Beside the important bugfixes, this update adds very useful features and utility updates: Enumerations and deprecation 
are now supported, automatic line splitting is added and the model structure document reading is now more flexible. 

Of course, this update is also important in the sense that the module / application name and function was changed 
so that **Citadel** module is no longer a requirement in the use cases, making this application more widely applicable.
### Breaking Changes
- Renamed this module to **Utopia Vault Coder** - Also renamed code occurrences and removed **Metropolis** dependencies
  - Because of this, the **Tables** object implementation is left partially open.
- Updated accepted command line arguments:
  - The first argument specifies the path common for both input and output
  - The second argument specifies input file location relative to the common path
  - The third argument specifies the output file location relative to the common path
### New Features
- Added support for enumerations (see README for more details)
- Added support for deprecation (deprecation data type)
- Class name can be parsed from associated table name (if specified)
- Property name can now be guessed based on its data type (E.g. creation time properties are named "created" by default)
- Property documentation can be generated automatically for some data types
- Added automated line splitting
- Supports a wider range of key names in the input json document (e.g. "props" in addition to "properties")
- Added support for @author scaladoc tag
### Bugfixes
- Autogenerated table names used to be in wrong casing (first character in upper case under some circumstances)
- Fixed some bugs that resulted in code with build errors (this version is better tested)
### Other Changes
- Supports latest **Flow** and **Vault** changes
- Supports abstract functions internally

## v1.0 - 4.9.2021
Initial release. See Readme.md for mode details.
